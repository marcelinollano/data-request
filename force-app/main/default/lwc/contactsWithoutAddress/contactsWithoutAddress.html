<template>
  <div class="slds-card contacts">
    <div class="slds-card__header slds-grid">
      <header class="header-title-container slds-has-flexi-truncate header">
        <lightning-icon
          icon-name="standard:person_account"
          title="Cross"
          class="icon"
        ></lightning-icon>
        <h1 class="slds-text-heading_medium title">Contacts Without Address</h1>
      </header>
    </div>
    <div class="slds-card__body slds-card__body_inner">
      <div class="row">
        <template if:true={contacts.data}>
          <template for:each={contacts.data} for:item="contact">
            <div
              key={contact.Id}
              class="
                contact
                slds-grid slds-wrap slds-grid slds-grid_vertical-align-center
              "
            >
              <div class="slds-col slds-size_1-of-3">
                <a href="#" onclick={handleLink} data-contact-id={contact.Id}
                  >{contact.Name}
                </a>
              </div>
              <div class="slds-col slds-size_1-of-3">{contact.Title}</div>
              <div class="slds-col slds-size_1-of-3">
                <lightning-button
                  variant="base"
                  label="Request via Phone"
                  icon-name="utility:call"
                  onclick={handleCall}
                  data-contact-id={contact.Id}
                  data-contact-name={contact.Name}
                  data-contact-phone={contact.Phone}
                  class="slds-float_right button-call"
                ></lightning-button>
              </div>
            </div>
          </template>
        </template>
        <template if:false={contacts.data}>
          <p>ðŸŽ‰ No mailing addresses missing!</p>
        </template>
      </div>
    </div>
  </div>
</template>
